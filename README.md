# Django Gallery Project

Проект галереи изображений на Django с использованием Docker.

## Структура проекта

- `django_app/` - Django приложение
- `docker-compose.yml` - Конфигурация Docker Compose для оркестрации контейнеров

## Возможности

- **Фронтенд**: Галерея изображений с красивым дизайном
- **Админка**: Кастомный интерфейс для управления изображениями
  - Загрузка изображений через HTML input
  - Редактирование имени изображения
  - Удаление изображений с сервера и из БД

## Требования

- Docker
- Docker Compose

## Быстрый старт

### Локальный запуск

1. Клонируйте репозиторий или используйте текущую директорию

2. Запустите контейнеры:
```bash
docker-compose up --build
```

3. При первом запуске будет создан суперпользователь:
   - Логин: `admin`
   - Пароль: `admin`

4. Откройте в браузере:
   - Фронтенд: http://localhost:8000
   - Админка: http://localhost:8000/admin

### Использование админки

1. Войдите в админку по адресу http://localhost:8000/admin
2. Перейдите в раздел "Images" (Изображения)
3. На странице управления изображениями:
   - Выберите файл изображения
   - Введите имя изображения
   - Нажмите "Загрузить"
   - Для существующих изображений можно изменить имя в поле рядом с изображением
   - Нажмите "Удалить" для удаления изображения

## Деплой

### Для продакшена

1. Обновите переменные окружения в `docker-compose.yml`:
   - Установите `DEBUG=False`
   - Измените `SECRET_KEY` на безопасный ключ
   - Обновите пароли БД

2. Для продакшена рекомендуется использовать:
   - Nginx как reverse proxy
   - Gunicorn вместо runserver
   - SSL сертификаты

### Пример продакшн конфигурации

Создайте `docker-compose.prod.yml`:

```yaml
version: '3.8'

services:
  web:
    command: gunicorn gallery_project.wsgi:application --bind 0.0.0.0:8000 --workers 4
    environment:
      - DEBUG=False
      - SECRET_KEY=your-production-secret-key
```

Запуск:
```bash
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

## Структура базы данных

Модель `Image` содержит:
- `name` - имя изображения
- `image` - файл изображения (сохраняется в `media/images/`)
- `created_at` - дата создания
- `updated_at` - дата обновления

## Остановка контейнеров

```bash
docker-compose down
```

Для удаления всех данных (включая БД):
```bash
docker-compose down -v
```

## Разработка

Для разработки код монтируется как volume, поэтому изменения применяются автоматически (кроме изменений в зависимостях - потребуется пересборка).

Пересборка контейнера:
```bash
docker-compose up --build
```

## Технологии

- Django 4.2.7
- PostgreSQL 15
- Docker & Docker Compose
- Pillow для работы с изображениями

